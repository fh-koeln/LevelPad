<div data-ng-include="'views/subjects/edit.html'"></div>
<div data-ng-include="'views/subjects/delete.html'"></div>

<ul class="nav nav-tabs" data-ng-init="filterStatus='sose'"> <!--Filterstatus muss geaendert werden fuer Aktiv und inaktive-->
	<li data-ng-class="{ 'active': filterStatus=='sose' }"><a data-ng-click="filterStatus='sose'">Aktive Veranstaltungen</a></li>
	<li data-ng-class="{ 'active': filterStatus=='wise' }"><a data-ng-click="filterStatus='wise'">Inaktive Veranstaltungen</a></li>
</ul>

<div class="row">
	<div class="col-xs-4">
		<input type="text" placeholder="Filter" data-ng-model="searchText" autocomplete="off" autofocus="autofocus" class="form-control" />
	</div>
	<div class="col-xs-offset-2 col-xs-6 text-right">
		<button data-ng-click="showCreateDialog();" class="btn btn-lg btn-link glyphicon glyphicon-plus" style="padding: 0 0 10px 8px;"></button>
		<a data-ng-click="showCreateDialog();">Create new subject</a>
	</div>
</div>

<ol class="breadcrumb">
	<li><a href="/modules">Modules</a></li>
	<li class="active">{{ module.name }}</li>
</ol>

<!--
<div class="row">
<div class="col-md-4">
<select class="form-control">
	<option>Shortname</option>
	<option>Name</option>
	<option>Semester</option>
	<option>Year</option>
</select>
</div>
</div>
-->

<table class="table table-striped table-hover">
	<tr data-ng-repeat="subject in subjects | filter:filterStatus | filter:searchText">
		<td data-ng-click="go(  '/' + module.slug + '/' + subject.slug )">
			<h4><a data-ng-href="{{ '/' + module.slug + '/' + subject.slug }}">{{ subject.semester }} {{ subject.year }}</a></h4>
			<span>44 Students</span>
			<span class="label label-success" data-ng-show="subject.year == 2014">active</span>
			<span class="label label-warning" data-ng-hide="subject.year == 2014">inactive</span>
		</td>
	</tr>
</table>

<table class="table table-striped" ng-init="predicate='name'; reverse=false;">
	<thead>
	<tr>
		<th class="col-md-2">
			Kurzname
			<button class="btn glyphicon glyphicon-chevron-up" data-ng-click="predicate='shortName'; reverse=false;" data-ng-class="{ 'btn-link': predicate != 'shortName' || !reverse }"></button>
			<button class="btn glyphicon glyphicon-chevron-down" data-ng-click="predicate='shortName'; reverse=true;" data-ng-class="{ 'btn-link': predicate != 'shortName' || reverse }"></button>
		</th>
		<th class="col-md-4">
			Name
			<span class="glyphicon glyphicon-chevron-up"></span>
			<span class="glyphicon glyphicon-chevron-down"></span>
		</th>
		<th class="col-md-2">
			Semester
			<span class="glyphicon glyphicon-chevron-up"></span>
			<span class="glyphicon glyphicon-chevron-down"></span>
		</th>
		<th class="col-md-2">
			Jahr
			<span class="glyphicon glyphicon-chevron-up"></span>
			<span class="glyphicon glyphicon-chevron-down"></span>
		</th>
		<th class="col-md-2">&nbsp;</th>
	</tr>
	</thead>
	<tbody>
	<tr data-ng-repeat="subject in subjects | filter:searchText">
		<td data-ng-bind="subject.module.shortName" />
		<td data-ng-bind="subject.module.name" />
		<td data-ng-bind="subject.semester" />
		<td data-ng-bind="subject.year" />
		<td class="text-right">
			<input data-ng-click="showEditDialog(subject)" type="button" value="Edit" class="btn btn-default" />
			<input data-ng-click="showDeleteDialog(subject)" type="button" value="Delete" class="btn btn-default" />
		</td>
	</tr>
	</tbody>
</table>
