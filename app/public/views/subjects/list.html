<ol class="breadcrumb">
	<li><a href="/modules">Modules</a></li>
	<li><a href="/{{ module.slug }}">{{ module.name }}</a></li>
	<li class="active">{{ subject.semester }} {{ subject.year }}</li>
</ol>

<ul class="nav nav-tabs">
	<li class="active"><a href="#tasks" target="_self" data-toggle="tab">Tasks</a></li>
	<li><a href="#teams" target="_self" data-toggle="tab">Teams</a></li>
	<li><a href="#students" target="_self" data-toggle="tab">Students</a></li>
	<li><a href="#assistants" target="_self" data-toggle="tab">Assistants</a></li>
</ul>

<p></p>

<div class="tab-content">
	<div class="tab-pane fade in active" id="tasks">

		<ul class="nav nav-pills">
			<li class=""><a data-ng-href="{{ '/' + module.slug + '/' + subject.slug + '/tasks/new' }}">New task</a></li>
		</ul>

		<p></p>

		<table class="table table-striped table-hover">
			<tr data-ng-repeat="task in tasks">
				<td data-ng-click="go(  '/' + module.slug + '/' + subject.slug + '/tasks/' + task.slug )">
					<a data-ng-href="{{ '/' + module.slug + '/' + subject.slug + '/tasks/' + task.slug }}">
						<span data-ng-bind="task.title"></span>
					</a>
				</td>
			</tr>
		</table>
	</div>
	<div class="tab-pane fade" id="teams">
		<table class="table table-striped table-hover">
			<tr data-ng-repeat="team in teams">
				<td data-ng-click="go(  '/' + module.slug + '/' + subject.slug + '/teams/' + team.slug )">
					<a data-ng-href="{{ '/' + module.slug + '/' + subject.slug + '/teams/' + team.slug }}">
						<span data-ng-repeat="student in team.students">
							{{ student.name }}{{ $last ? '' : ', ' }}
						</span>
					</a>
				</td>
			</tr>
		</table>
	</div>
	<div class="tab-pane fade" id="students">
		<table class="table table-striped table-hover">
			<tr data-ng-repeat="student in students">
				<td data-ng-click="go(  '/subjects/' + subject.slug + '/students/' + student.slug )">
					<a data-ng-href="{{ '/subjects/' + subject.slug + '/students/' + student.slug }}">
						<span data-ng-bind="student.name"></span>
					</a>
				</td>
			</tr>
		</table>
	</div>
	<div class="tab-pane fade" id="assistants">
		<table class="table table-striped table-hover">
			<tr data-ng-repeat="assistant in assistants">
				<td data-ng-click="go(  '/subjects/' + subject.slug + '/assistants/' + assistant.slug )">
					<a data-ng-href="{{ '/subjects/' + subject.slug + '/assistants/' + assistant.slug }}">
						<span data-ng-bind="assistant.name"></span>
					</a>
				</td>
			</tr>
		</table>
	</div>
</div>




<div class="row">
	<div class="col-md-6">
		<h2 style="display: inline;">Subjects</h2>
		<button data-ng-click="showCreateDialog();" class="btn btn-lg btn-link glyphicon glyphicon-plus" style="padding: 0 0 10px 8px;"></button>
	</div>
	<div class="col-md-offset-2 col-md-4">
		<input type="text" placeholder="Filter" data-ng-model="searchText" autocomplete="off" autofocus="autofocus" class="form-control" />
	</div>
</div>

<table class="table table-striped" ng-init="predicate='name'; reverse=false;">
	<thead>
	<tr>
		<th class="col-md-2">
			Kurzname
			<button class="btn glyphicon glyphicon-chevron-up" data-ng-click="predicate='shortName'; reverse=false;" data-ng-class="{ 'btn-link': predicate != 'shortName' || !reverse }"></button>
			<button class="btn glyphicon glyphicon-chevron-down" data-ng-click="predicate='shortName'; reverse=true;" data-ng-class="{ 'btn-link': predicate != 'shortName' || reverse }"></button>
		</th>
		<th class="col-md-4">
			Name
			<span class="glyphicon glyphicon-chevron-up"></span>
			<span class="glyphicon glyphicon-chevron-down"></span>
		</th>
		<th class="col-md-2">
			Semester
			<span class="glyphicon glyphicon-chevron-up"></span>
			<span class="glyphicon glyphicon-chevron-down"></span>
		</th>
		<th class="col-md-2">
			Jahr
			<span class="glyphicon glyphicon-chevron-up"></span>
			<span class="glyphicon glyphicon-chevron-down"></span>
		</th>
		<th class="col-md-2">&nbsp;</th>
	</tr>
	</thead>
	<tbody>
	<tr data-ng-repeat="subject in subjects | filter:searchText">
		<td data-ng-bind="subject.module.shortName" />
		<td data-ng-bind="subject.module.name" />
		<td data-ng-bind="subject.semester" />
		<td data-ng-bind="subject.year" />
		<td class="text-right">
			<input data-ng-click="showEditDialog(subject)" type="button" value="Edit" class="btn btn-default" />
			<input data-ng-click="showDeleteDialog(subject)" type="button" value="Delete" class="btn btn-default" />
		</td>
	</tr>
	</tbody>
</table>
